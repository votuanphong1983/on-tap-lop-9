<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <title>√în Thi To√°n 9 V√†o 10 - Th·∫ßy Tuy·∫øn LT7 Style</title>
    
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>
        window.MathJax = {
            tex: { inlineMath: [['$', '$'], ['\\(', '\\)']], displayMath: [['$$', '$$']] }
        };
    </script>

    <style>
        :root { --main: #1a5f7a; --sub: #159895; --accent: #ffb84c; --bg: #f5f9f9; --success: #27ae60; --error: #e74c3c; }
        body { font-family: 'Segoe UI', Tahoma, sans-serif; background: var(--bg); margin: 0; color: #333; line-height: 1.6; }
        
        header { background: var(--main); color: white; padding: 25px; text-align: center; border-bottom: 5px solid var(--accent); }
        nav { display: flex; justify-content: center; background: white; position: sticky; top: 0; z-index: 100; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
        .tab-btn { padding: 15px 25px; border: none; background: none; font-weight: bold; cursor: pointer; color: #666; border-bottom: 3px solid transparent; transition: 0.3s; }
        .tab-btn.active { color: var(--main); border-bottom-color: var(--main); background: #f0f7f9; }

        .container { max-width: 900px; margin: 30px auto; padding: 0 20px; display: none; }
        .container.active { display: block; animation: fadeIn 0.5s; }

        /* Progress Bar Styles */
        .progress-container { width: 100%; background: #eee; height: 10px; border-radius: 5px; margin-bottom: 20px; overflow: hidden; }
        .progress-bar { height: 100%; background: linear-gradient(90deg, var(--sub), var(--accent)); width: 0%; transition: width 0.4s ease; }
        .stats-text { font-size: 0.9rem; color: #666; margin-bottom: 10px; display: block; }

        .knowledge-hub { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
        .card { background: white; border-radius: 12px; padding: 20px; box-shadow: 0 4px 15px rgba(0,0,0,0.05); border-top: 5px solid var(--sub); }
        .card h3 { color: var(--main); margin-top: 0; border-bottom: 1px solid #eee; padding-bottom: 10px; }

        .quiz-box { background: white; border-radius: 15px; padding: 30px; box-shadow: 0 10px 25px rgba(0,0,0,0.1); position: relative; }
        .q-text { font-size: 1.2rem; font-weight: bold; margin-bottom: 25px; color: #2c3e50; min-height: 50px; }
        .options { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }
        .opt-btn { padding: 15px; border: 2px solid #e0e0e0; border-radius: 10px; background: white; cursor: pointer; text-align: left; transition: 0.2s; font-size: 1rem; }
        .opt-btn:hover:not(:disabled) { border-color: var(--sub); background: #f0fdfa; }
        .correct { border-color: var(--success) !important; background: #eafaf1 !important; color: var(--success); font-weight: bold; }
        .wrong { border-color: var(--error) !important; background: #fadbd8 !important; color: var(--error); }
        
        .explanation { margin-top: 20px; padding: 15px; border-radius: 8px; display: none; border: 1px dashed #ccc; background: #fafafa; }
        .next-btn { background: var(--main); color: white; border: none; padding: 12px 30px; border-radius: 30px; cursor: pointer; float: right; display: none; margin-top: 20px; font-weight: bold; }
        .restart-btn { background: var(--sub); color: white; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer; font-weight: bold; margin-top: 15px; }

        .result-screen { text-align: center; padding: 40px 20px; }
        .score-circle { width: 120px; height: 120px; border-radius: 50%; border: 8px solid var(--accent); display: flex; align-items: center; justify-content: center; font-size: 2rem; font-weight: bold; margin: 0 auto 20px; color: var(--main); }

        .pdf-frame { width: 100%; height: 650px; border: 2px solid #ddd; border-radius: 10px; }

        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        @media (max-width: 600px) { .knowledge-hub, .options { grid-template-columns: 1fr; } }
    </style>
</head>
<body>

<header>
    <h1>CHINH PH·ª§C TO√ÅN 9 V√ÄO 10</h1>
    <p>H·ªá th·ªëng √¥n t·∫≠p to√†n di·ªán & T√†i li·ªáu PDF chi ti·∫øt</p>
</header>

<nav>
    <button class="tab-btn active" onclick="showTab('theory')">üìö KI·∫æN TH·ª®C</button>
    <button class="tab-btn" onclick="showTab('quiz-alg')">üî¢ ƒê·∫†I S·ªê</button>
    <button class="tab-btn" onclick="showTab('quiz-geo')">üìê H√åNH H·ªåC</button>
    <button class="tab-btn" onclick="showTab('pdf-preview')">üìÑ PDF PREVIEW</button>
</nav>

<div id="theory" class="container active">
    <div class="knowledge-hub">
        <div class="card">
            <h3>1. CƒÉn b·∫≠c hai & R√∫t g·ªçn</h3>
            <ul>
                <li>$\sqrt{A^2} = |A|$</li>
                <li>ƒêKXƒê: $\sqrt{A}$ c√≥ nghƒ©a khi $A \ge 0$</li>
                <li>Tr·ª•c cƒÉn th·ª©c: $\frac{1}{\sqrt{a}-\sqrt{b}} = \frac{\sqrt{a}+\sqrt{b}}{a-b}$</li>
            </ul>
        </div>
        <div class="card">
            <h3>2. H√†m s·ªë b·∫≠c nh·∫•t</h3>
            <ul>
                <li>$y = ax + b$ ($a \neq 0$)</li>
                <li>Song song: $a=a'; b \neq b'$</li>
                <li>Vu√¥ng g√≥c: $a \cdot a' = -1$</li>
                <li>$a>0$: ƒê·ªìng bi·∫øn; $a<0$: Ngh·ªãch bi·∫øn</li>
            </ul>
        </div>
        <div class="card">
            <h3>3. H·ªá th·ª©c l∆∞·ª£ng vu√¥ng</h3>
            <ul>
                <li>$h^2 = b' \cdot c'$</li>
                <li>$a \cdot h = b \cdot c$</li>
                <li>$b^2 = a \cdot b'; c^2 = a \cdot c'$</li>
                <li>$\frac{1}{h^2} = \frac{1}{b^2} + \frac{1}{c^2}$</li>
            </ul>
        </div>
        <div class="card">
            <h3>4. H√¨nh Kh√¥ng Gian</h3>
            <ul>
                <li>H√¨nh tr·ª•: $V = \pi R^2 h$</li>
                <li>H√¨nh n√≥n: $V = \frac{1}{3} \pi R^2 h$</li>
                <li>H√¨nh c·∫ßu: $V = \frac{4}{3} \pi R^3$</li>
                <li>Di·ªán t√≠ch m·∫∑t c·∫ßu: $S = 4 \pi R^2$</li>
            </ul>
        </div>
    </div>
</div>

<div id="quiz-alg" class="container">
    <div class="quiz-box">
        <span class="stats-text" id="alg-stats">Ti·∫øn ƒë·ªô: 0%</span>
        <div class="progress-container">
            <div id="alg-progress" class="progress-bar"></div>
        </div>
        <div id="alg-content"></div>
        <button id="alg-next" class="next-btn" onclick="nextQuestion('alg')">C√¢u ti·∫øp theo ‚û°Ô∏è</button>
        <div style="clear:both"></div>
    </div>
</div>

<div id="quiz-geo" class="container">
    <div class="quiz-box">
        <span class="stats-text" id="geo-stats">Ti·∫øn ƒë·ªô: 0%</span>
        <div class="progress-container">
            <div id="geo-progress" class="progress-bar"></div>
        </div>
        <div id="geo-content"></div>
        <button id="geo-next" class="next-btn" onclick="nextQuestion('geo')">C√¢u ti·∫øp theo ‚û°Ô∏è</button>
        <div style="clear:both"></div>
    </div>
</div>

<div id="pdf-preview" class="container">
    <div class="quiz-box">
        <h3>üìÑ Xem tr·ª±c tuy·∫øn: Chuy√™n ƒë·ªÅ H√¨nh h·ªçc</h3>
        <iframe src="https://drive.google.com/file/d/15l0JEAtVXrjYzDeA19z1Yhceqds-bbwZ/preview" class="pdf-frame"></iframe>
        <p style="margin-top: 15px; text-align: center;">
            <a href="https://drive.google.com/file/d/15l0JEAtVXrjYzDeA19z1Yhceqds-bbwZ/view?usp=sharing" target="_blank" style="color: var(--main); font-weight: bold;">T·∫£i v·ªÅ ho·∫∑c M·ªü trong tab m·ªõi ‚ÜóÔ∏è</a>
        </p>
    </div>
</div>

<script>
    const questions = {
        alg: [
            {
                q: String.raw`ƒêi·ªÅu ki·ªán x√°c ƒë·ªãnh c·ªßa bi·ªÉu th·ª©c $\sqrt{3x - 12}$ l√†:`,
                options: [String.raw`$x \ge 4$`, String.raw`$x > 4$`, String.raw`$x \le 4$`, String.raw`$x < 4$`],
                ans: 0,
                explain: String.raw`Bi·ªÉu th·ª©c trong cƒÉn ph·∫£i kh√¥ng √¢m: $3x - 12 \ge 0 \Rightarrow 3x \ge 12 \Rightarrow x \ge 4$.`
            },
            {
                q: String.raw`Cho ƒë∆∞·ªùng th·∫≥ng $d: y = (m-1)x + 5$. T√¨m $m$ ƒë·ªÉ $d$ song song v·ªõi $y = 2x - 3$?`,
                options: ["$m=3$", "$m=2$", "$m=1$", "$m=-1$"],
                ans: 0,
                explain: String.raw`ƒê·ªÉ hai ƒë∆∞·ªùng th·∫≥ng song song th√¨ h·ªá s·ªë g√≥c ph·∫£i b·∫±ng nhau: $m - 1 = 2 \Rightarrow m = 3$.`
            }
        ],
        geo: [
            {
                q: String.raw`Cho $\triangle ABC$ n·ªôi ti·∫øp ƒë∆∞·ªùng tr√≤n $(O)$ ƒë∆∞·ªùng k√≠nh $BC$. S·ªë ƒëo g√≥c $\widehat{BAC}$ l√†:`,
                options: [String.raw`$90^\circ$`, String.raw`$60^\circ$`, String.raw`$180^\circ$`, String.raw`$45^\circ$`],
                ans: 0,
                explain: String.raw`G√≥c n·ªôi ti·∫øp ch·∫Øn n·ª≠a ƒë∆∞·ªùng tr√≤n lu√¥n l√† g√≥c vu√¥ng ($90^\circ$).`
            },
            {
                q: String.raw`T·ª© gi√°c $ABCD$ n·ªôi ti·∫øp ƒë∆∞·ªùng tr√≤n $(O)$ c√≥ $\widehat{A} = 75^\circ$. S·ªë ƒëo g√≥c $\widehat{C}$ l√†:`,
                options: [String.raw`$105^\circ$`, String.raw`$75^\circ$`, String.raw`$180^\circ$`, String.raw`$25^\circ$`],
                ans: 0,
                explain: String.raw`Trong t·ª© gi√°c n·ªôi ti·∫øp, t·ªïng hai g√≥c ƒë·ªëi di·ªán b·∫±ng $180^\circ$. V·∫≠y $\widehat{C} = 180^\circ - 75^\circ = 105^\circ$.`
            },
            {
                q: String.raw`N·∫øu m·ªôt g√≥c n·ªôi ti·∫øp c√≥ s·ªë ƒëo b·∫±ng $40^\circ$ th√¨ cung b·ªã ch·∫Øn b·ªüi g√≥c ƒë√≥ c√≥ s·ªë ƒëo l√†:`,
                options: [String.raw`$20^\circ$`, String.raw`$40^\circ$`, String.raw`$80^\circ$`, String.raw`$120^\circ$`],
                ans: 2,
                explain: String.raw`S·ªë ƒëo g√≥c n·ªôi ti·∫øp b·∫±ng n·ª≠a s·ªë ƒëo cung b·ªã ch·∫Øn. V·∫≠y cung b·ªã ch·∫Øn $= 40^\circ \times 2 = 80^\circ$.`
            },
            {
                q: String.raw`M·ªôt h√¨nh n√≥n c√≥ b√°n k√≠nh ƒë√°y $R=3cm$ v√† chi·ªÅu cao $h=4cm$. Th·ªÉ t√≠ch c·ªßa h√¨nh n√≥n l√†:`,
                options: [String.raw`$12\pi cm^3$`, String.raw`$36\pi cm^3$`, String.raw`$15\pi cm^3$`, String.raw`$48\pi cm^3$`],
                ans: 0,
                explain: String.raw`C√¥ng th·ª©c $V = \frac{1}{3}\pi R^2 h = \frac{1}{3}\pi \cdot 3^2 \cdot 4 = 12\pi cm^3$.`
            },
            {
                q: String.raw`G√≥c t·∫°o b·ªüi tia ti·∫øp tuy·∫øn v√† d√¢y cung c√≥ s·ªë ƒëo b·∫±ng:`,
                options: ["G·∫•p ƒë√¥i s·ªë ƒëo cung b·ªã ch·∫Øn", "B·∫±ng s·ªë ƒëo cung b·ªã ch·∫Øn", "B·∫±ng n·ª≠a s·ªë ƒëo cung b·ªã ch·∫Øn", "B·ª≠a s·ªë ƒëo g√≥c ·ªü t√¢m"],
                ans: 2,
                explain: String.raw`Theo ƒë·ªãnh l√Ω, s·ªë ƒëo g√≥c t·∫°o b·ªüi tia ti·∫øp tuy·∫øn v√† d√¢y cung b·∫±ng n·ª≠a s·ªë ƒëo cung b·ªã ch·∫Øn.`
            },
            {
                q: String.raw`T√≠nh di·ªán t√≠ch h√¨nh qu·∫°t tr√≤n b√°n k√≠nh $R$, cung $n^\circ$:`,
                options: [String.raw`$S = \frac{\pi R^2 n}{180}$`, String.raw`$S = \frac{\pi R n}{360}$`, String.raw`$S = \frac{\pi R^2 n}{360}$`, String.raw`$S = \frac{2\pi R n}{360}$`],
                ans: 2,
                explain: String.raw`C√¥ng th·ª©c t√≠nh di·ªán t√≠ch h√¨nh qu·∫°t tr√≤n l√† $S = \frac{\pi R^2 n}{360}$.`
            },
            {
                q: String.raw`M·ªôt h√¨nh c·∫ßu c√≥ b√°n k√≠nh $R=2cm$. Di·ªán t√≠ch m·∫∑t c·∫ßu l√†:`,
                options: [String.raw`$16\pi cm^2$`, String.raw`$8\pi cm^2$`, String.raw`$4\pi cm^2$`, String.raw`$32\pi cm^2$`],
                ans: 0,
                explain: String.raw`Di·ªán t√≠ch m·∫∑t c·∫ßu $S = 4\pi R^2 = 4\pi \cdot 2^2 = 16\pi cm^2$.`
            },
            {
                q: String.raw`Cho h√¨nh tr·ª• c√≥ $R=5cm, h=10cm$. Di·ªán t√≠ch xung quanh l√†:`,
                options: [String.raw`$50\pi cm^2$`, String.raw`$100\pi cm^2$`, String.raw`$250\pi cm^2$`, String.raw`$10\pi cm^2$`],
                ans: 1,
                explain: String.raw`$S_{xq} = 2\pi Rh = 2\pi \cdot 5 \cdot 10 = 100\pi cm^2$.`
            },
            {
                q: String.raw`S·ªë ƒëo g√≥c c√≥ ƒë·ªânh b√™n trong ƒë∆∞·ªùng tr√≤n b·∫±ng:`,
                options: ["N·ª≠a t·ªïng s·ªë ƒëo hai cung b·ªã ch·∫Øn", "N·ª≠a hi·ªáu s·ªë ƒëo hai cung b·ªã ch·∫Øn", "T·ªïng s·ªë ƒëo hai cung b·ªã ch·∫Øn", "Hi·ªáu s·ªë ƒëo hai cung b·ªã ch·∫Øn"],
                ans: 0,
                explain: String.raw`S·ªë ƒëo g√≥c c√≥ ƒë·ªânh ·ªü b√™n trong ƒë∆∞·ªùng tr√≤n b·∫±ng n·ª≠a t·ªïng s·ªë ƒëo hai cung b·ªã ch·∫Øn.`
            },
            {
                q: String.raw`Cho cung $AB$ c·ªßa ƒë∆∞·ªùng tr√≤n $(O;R)$ c√≥ s·ªë ƒëo l√† $60^\circ$. ƒê·ªô d√†i cung $AB$ l√†:`,
                options: [String.raw`$\frac{\pi R}{6}$`, String.raw`$\frac{\pi R}{3}$`, String.raw`$\frac{\pi R}{2}$`, String.raw`$\frac{\pi R^2}{6}$`],
                ans: 1,
                explain: String.raw`ƒê·ªô d√†i cung $l = \frac{\pi R n}{180} = \frac{\pi R \cdot 60}{180} = \frac{\pi R}{3}$.`
            }
        ]
    };

    let state = {
        alg: { index: 0, score: 0 },
        geo: { index: 0, score: 0 }
    };

    function showTab(id) {
        document.querySelectorAll('.container').forEach(c => c.classList.remove('active'));
        document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
        document.getElementById(id).classList.add('active');
        if(event) event.currentTarget.classList.add('active');
    }

    function updateProgress(type) {
        const current = state[type].index;
        const total = questions[type].length;
        const percent = (current / total) * 100;
        document.getElementById(`${type}-progress`).style.width = percent + '%';
        document.getElementById(`${type}-stats`).innerText = `Ti·∫øn ƒë·ªô: ${Math.round(percent)}% (C√¢u ${current}/${total})`;
    }

    function renderQuestion(type) {
        const idx = state[type].index;
        const data = questions[type];
        const container = document.getElementById(type + '-content');
        const nextBtn = document.getElementById(type + '-next');

        updateProgress(type);

        if (idx >= data.length) {
            const score = state[type].score;
            container.innerHTML = `
                <div class="result-screen">
                    <h2>üéâ Ho√†n th√†nh b·ªô c√¢u h·ªèi!</h2>
                    <div class="score-circle">${score}/${data.length}</div>
                    <p>${score === data.length ? "Tuy·ªát v·ªùi! Con ƒë√£ n·∫Øm v·ªØng ki·∫øn th·ª©c." : "Kh√° t·ªët! H√£y xem l·∫°i c√°c c√¢u sai nh√©."}</p>
                    <button class="restart-btn" onclick="restartQuiz('${type}')">L√†m l·∫°i t·ª´ ƒë·∫ßu üîÑ</button>
                </div>`;
            nextBtn.style.display = "none";
            return;
        }

        const item = data[idx];
        container.innerHTML = `
            <div class="q-text">C√¢u ${idx + 1}: ${item.q}</div>
            <div class="options">
                ${item.options.map((opt, i) => `<button class="opt-btn" onclick="checkAns('${type}', ${i}, this)">${opt}</button>`).join('')}
            </div>
            <div id="${type}-ex" class="explanation"></div>
        `;
        
        nextBtn.style.display = "none";
        MathJax.typesetPromise();
    }

    function checkAns(type, selected, btn) {
        const currentIdx = state[type].index;
        const item = questions[type][currentIdx];
        const exBox = document.getElementById(type + '-ex');
        const btns = btn.parentElement.querySelectorAll('.opt-btn');

        btns.forEach(b => b.disabled = true);
        
        if (selected === item.ans) {
            btn.classList.add('correct');
            state[type].score++;
            exBox.innerHTML = "‚úÖ <b>Ch√≠nh x√°c!</b><br>" + item.explain;
        } else {
            btn.classList.add('wrong');
            btns[item.ans].classList.add('correct');
            exBox.innerHTML = "‚ùå <b>Ch∆∞a ƒë√∫ng.</b><br>" + item.explain;
        }

        exBox.style.display = "block";
        document.getElementById(type + '-next').style.display = "block";
        MathJax.typesetPromise();
    }

    function nextQuestion(type) {
        state[type].index++;
        renderQuestion(type);
    }

    function restartQuiz(type) {
        state[type] = { index: 0, score: 0 };
        renderQuestion(type);
    }

    window.onload = () => {
        renderQuestion('alg');
        renderQuestion('geo');
    };
</script>

</body>
</html>