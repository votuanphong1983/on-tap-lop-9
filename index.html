<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <title>√în Thi To√°n 9 V√†o 10 - Th·∫ßy Tuy·∫øn LT7 Style</title>
    
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>
        window.MathJax = {
            tex: { inlineMath: [['$', '$'], ['\\(', '\\)']], displayMath: [['$$', '$$']] }
        };
    </script>

    <style>
        :root { --main: #1a5f7a; --sub: #159895; --accent: #ffb84c; --bg: #f5f9f9; }
        body { font-family: 'Segoe UI', Tahoma, sans-serif; background: var(--bg); margin: 0; color: #333; line-height: 1.6; }
        
        /* Header & Nav */
        header { background: var(--main); color: white; padding: 25px; text-align: center; border-bottom: 5px solid var(--accent); }
        nav { display: flex; justify-content: center; background: white; position: sticky; top: 0; z-index: 100; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
        .tab-btn { padding: 15px 25px; border: none; background: none; font-weight: bold; cursor: pointer; color: #666; border-bottom: 3px solid transparent; transition: 0.3s; }
        .tab-btn.active { color: var(--main); border-bottom-color: var(--main); background: #f0f7f9; }

        .container { max-width: 900px; margin: 30px auto; padding: 0 20px; display: none; }
        .container.active { display: block; animation: fadeIn 0.5s; }

        /* Ki·∫øn th·ª©c t·ªïng h·ª£p */
        .knowledge-hub { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
        .card { background: white; border-radius: 12px; padding: 20px; box-shadow: 0 4px 15px rgba(0,0,0,0.05); border-top: 5px solid var(--sub); }
        .card h3 { color: var(--main); margin-top: 0; border-bottom: 1px solid #eee; padding-bottom: 10px; }
        .math-box { background: #f8f8f8; padding: 10px; border-radius: 5px; margin: 10px 0; font-family: 'Times New Roman', serif; }

        /* Quiz UI */
        .quiz-box { background: white; border-radius: 15px; padding: 30px; box-shadow: 0 10px 25px rgba(0,0,0,0.1); }
        .q-text { font-size: 1.2rem; font-weight: bold; margin-bottom: 25px; color: #2c3e50; }
        .options { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }
        .opt-btn { padding: 15px; border: 2px solid #e0e0e0; border-radius: 10px; background: white; cursor: pointer; text-align: left; transition: 0.2s; font-size: 1rem; }
        .opt-btn:hover:not(:disabled) { border-color: var(--sub); background: #f0fdfa; }
        .correct { border-color: #27ae60 !important; background: #eafaf1 !important; color: #27ae60; font-weight: bold; }
        .wrong { border-color: #e74c3c !important; background: #fadbd8 !important; color: #c0392b; }
        
        .explanation { margin-top: 20px; padding: 15px; border-radius: 8px; display: none; border: 1px dashed #ccc; }
        .next-btn { background: var(--main); color: white; border: none; padding: 12px 30px; border-radius: 30px; cursor: pointer; float: right; display: none; margin-top: 20px; font-weight: bold; }

        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        @media (max-width: 600px) { .knowledge-hub, .options { grid-template-columns: 1fr; } }
    </style>
</head>
<body>

<header>
    <h1>CHINH PH·ª§C TO√ÅN 9 V√ÄO 10</h1>
    <p>T·ªïng h·ª£p ki·∫øn th·ª©c tr·ªçng t√¢m & B√†i t·∫≠p r√®n luy·ªán</p>
</header>

<nav>
    <button class="tab-btn active" onclick="showTab('theory')">üìö KI·∫æN TH·ª®C T·ªîNG H·ª¢P</button>
    <button class="tab-btn" onclick="showTab('quiz-alg')">üî¢ ƒê·∫†I S·ªê</button>
    <button class="tab-btn" onclick="showTab('quiz-geo')">üìê H√åNH H·ªåC</button>
</nav>

<div id="theory" class="container active">
    <div class="knowledge-hub">
        <div class="card">
            <h3>1. CƒÉn b·∫≠c hai & R√∫t g·ªçn</h3>
            <ul>
                <li>$\sqrt{A^2} = |A|$</li>
                <li>ƒêKXƒê: $\sqrt{A}$ c√≥ nghƒ©a khi $A \ge 0$</li>
                <li>Tr·ª•c cƒÉn th·ª©c: $\frac{1}{\sqrt{a}-\sqrt{b}} = \frac{\sqrt{a}+\sqrt{b}}{a-b}$</li>
            </ul>
        </div>
        <div class="card">
            <h3>2. H√†m s·ªë b·∫≠c nh·∫•t</h3>
            <ul>
                <li>$y = ax + b$ ($a \neq 0$)</li>
                <li>Song song: $a=a'; b \neq b'$</li>
                <li>Vu√¥ng g√≥c: $a \cdot a' = -1$</li>
                <li>$a>0$: ƒê·ªìng bi·∫øn; $a<0$: Ngh·ªãch bi·∫øn</li>
            </ul>
        </div>
        <div class="card">
            <h3>3. H·ªá th·ª©c l∆∞·ª£ng vu√¥ng</h3>
                        <ul>
                <li>$h^2 = b' \cdot c'$</li>
                <li>$a \cdot h = b \cdot c$</li>
                <li>$b^2 = a \cdot b'; c^2 = a \cdot c'$</li>
                <li>$\frac{1}{h^2} = \frac{1}{b^2} + \frac{1}{c^2}$</li>
            </ul>
        </div>
        <div class="card">
            <h3>4. G√≥c & ƒê∆∞·ªùng tr√≤n</h3>
                        <ul>
                <li>G√≥c n·ªôi ti·∫øp ch·∫Øn n·ª≠a ƒë∆∞·ªùng tr√≤n $= 90^\circ$</li>
                <li>T·ªïng 2 g√≥c ƒë·ªëi t·ª© gi√°c n·ªôi ti·∫øp $= 180^\circ$</li>
                <li>G√≥c n·ªôi ti·∫øp $= \frac{1}{2}$ G√≥c ·ªü t√¢m (c√πng ch·∫Øn 1 cung)</li>
            </ul>
        </div>
    </div>
</div>

<div id="quiz-alg" class="container">
    <div class="quiz-box">
        <div id="alg-content"></div>
        <button id="alg-next" class="next-btn" onclick="nextQuestion('alg')">C√¢u ti·∫øp theo ‚û°Ô∏è</button>
        <div style="clear:both"></div>
    </div>
</div>

<div id="quiz-geo" class="container">
    <div class="quiz-box">
        <div id="geo-content"></div>
        <button id="geo-next" class="next-btn" onclick="nextQuestion('geo')">C√¢u ti·∫øp theo ‚û°Ô∏è</button>
        <div style="clear:both"></div>
    </div>
</div>

<script>
    // D·ªÆ LI·ªÜU C√ÇU H·ªéI (S·ª≠ d·ª•ng chu·ªói raw String.raw ƒë·ªÉ tr√°nh l·ªói \ )
    const questions = {
        alg: [
            {
                q: String.raw`ƒêi·ªÅu ki·ªán x√°c ƒë·ªãnh c·ªßa bi·ªÉu th·ª©c $\sqrt{3x - 12}$ l√†:`,
                options: [String.raw`$x \ge 4$`, String.raw`$x > 4$`, String.raw`$x \le 4$`, String.raw`$x < 4$`],
                ans: 0,
                explain: String.raw`Bi·ªÉu th·ª©c trong cƒÉn ph·∫£i kh√¥ng √¢m: $3x - 12 \ge 0 \Rightarrow 3x \ge 12 \Rightarrow x \ge 4$.`
            },
            {
                q: String.raw`Cho ƒë∆∞·ªùng th·∫≥ng $d: y = (m-1)x + 5$. T√¨m $m$ ƒë·ªÉ $d$ song song v·ªõi $y = 2x - 3$?`,
                options: ["$m=3$", "$m=2$", "$m=1$", "$m=-1$"],
                ans: 0,
                explain: String.raw`ƒê·ªÉ hai ƒë∆∞·ªùng th·∫≥ng song song th√¨ h·ªá s·ªë g√≥c ph·∫£i b·∫±ng nhau: $m - 1 = 2 \Rightarrow m = 3$.`
            }
        ],
        geo: [
            {
                q: String.raw`Cho $\triangle ABC$ n·ªôi ti·∫øp ƒë∆∞·ªùng tr√≤n $(O)$ ƒë∆∞·ªùng k√≠nh $BC$. S·ªë ƒëo g√≥c $\widehat{BAC}$ l√†:`,
                options: [String.raw`$90^\circ$`, String.raw`$60^\circ$`, String.raw`$180^\circ$`, String.raw`$45^\circ$`],
                ans: 0,
                explain: String.raw`G√≥c n·ªôi ti·∫øp ch·∫Øn n·ª≠a ƒë∆∞·ªùng tr√≤n lu√¥n l√† g√≥c vu√¥ng ($90^\circ$).`
            },
            {
                q: String.raw`T·ª© gi√°c $ABCD$ n·ªôi ti·∫øp ƒë∆∞·ªùng tr√≤n $(O)$ c√≥ $\widehat{A} = 75^\circ$. S·ªë ƒëo g√≥c $\widehat{C}$ l√†:`,
                options: [String.raw`$105^\circ$`, String.raw`$75^\circ$`, String.raw`$180^\circ$`, String.raw`$25^\circ$`],
                ans: 0,
                explain: String.raw`Trong t·ª© gi√°c n·ªôi ti·∫øp, t·ªïng hai g√≥c ƒë·ªëi di·ªán b·∫±ng $180^\circ$. V·∫≠y $\widehat{C} = 180^\circ - 75^\circ = 105^\circ$.`
            }
        ]
    };

    let state = { alg: 0, geo: 0 };

    function showTab(id) {
        document.querySelectorAll('.container').forEach(c => c.classList.remove('active'));
        document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
        document.getElementById(id).classList.add('active');
        event.currentTarget.classList.add('active');
    }

    function renderQuestion(type) {
        const idx = state[type];
        const data = questions[type];
        const container = document.getElementById(type + '-content');
        const nextBtn = document.getElementById(type + '-next');

        if (idx >= data.length) {
            container.innerHTML = "<h2>üéâ Ho√†n th√†nh b√†i t·∫≠p!</h2><p>Con ƒë√£ xem h·∫øt c√°c c√¢u h·ªèi m·∫´u ph·∫ßn n√†y.</p>";
            nextBtn.style.display = "none";
            return;
        }

        const item = data[idx];
        container.innerHTML = `
            <div class="q-text">C√¢u ${idx + 1}: ${item.q}</div>
            <div class="options">
                ${item.options.map((opt, i) => `<button class="opt-btn" onclick="checkAns('${type}', ${i}, this)">${opt}</button>`).join('')}
            </div>
            <div id="${type}-ex" class="explanation"></div>
        `;
        
        nextBtn.style.display = "none";
        // √âp MathJax v·∫Ω l·∫°i c√¥ng th·ª©c
        MathJax.typesetPromise();
    }

    function checkAns(type, selected, btn) {
        const item = questions[type][state[type]];
        const exBox = document.getElementById(type + '-ex');
        const btns = btn.parentElement.querySelectorAll('.opt-btn');

        btns.forEach(b => b.disabled = true);
        
        if (selected === item.ans) {
            btn.classList.add('correct');
            exBox.innerHTML = "‚úÖ <b>Ch√≠nh x√°c!</b><br>" + item.explain;
        } else {
            btn.classList.add('wrong');
            btns[item.ans].classList.add('correct');
            exBox.innerHTML = "‚ùå <b>Ch∆∞a ƒë√∫ng r·ªìi.</b><br>" + item.explain;
        }

        exBox.style.display = "block";
        document.getElementById(type + '-next').style.display = "block";
        MathJax.typesetPromise();
    }

    function nextQuestion(type) {
        state[type]++;
        renderQuestion(type);
    }

    // Kh·ªüi t·∫°o
    window.onload = () => {
        renderQuestion('alg');
        renderQuestion('geo');
    };
</script>

</body>
</html>